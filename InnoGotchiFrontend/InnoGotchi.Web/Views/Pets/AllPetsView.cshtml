@using InnoGotchi.BLL.Models;
@{
    ViewData["Title"] = "All pets";
}
@model AllPetsViewModel;
@if(Model == null)
{
    <div class="text-center">There are no pets in game yet</div>
}
else
{
    <div class="text-center">
        <table class="table">
            <tr>
                <th></th>
                <th>
                    <a class="text-black btn-link" asp-controller="Pets" asp-action="AllPetsView" asp-route-page="@Model.PaginatedList.PageIndex" asp-route-sortType="@Model.SortModel.NameState">Name</a>
                </th>
                <th>
                    <a class="text-black btn-link" asp-controller="Pets" asp-action="AllPetsView" asp-route-page="@Model.PaginatedList.PageIndex" asp-route-sortType="@Model.SortModel.AgeState">Age</a>
                </th>
                <th>
                    <a class="text-black btn-link" asp-controller="Pets" asp-action="AllPetsView" asp-route-page="@Model.PaginatedList.PageIndex" asp-route-sortType="@Model.SortModel.PetState">Pet state</a>
                </th>
                <th>
                    <a class="text-black btn-link" asp-controller="Pets" asp-action="AllPetsView" asp-route-page="@Model.PaginatedList.PageIndex" asp-route-sortType="@Model.SortModel.HungryState">Hungry state</a>
                </th>
                <th>
                    <a class="text-black btn-link" asp-controller="Pets" asp-action="AllPetsView" asp-route-page="@Model.PaginatedList.PageIndex" asp-route-sortType="@Model.SortModel.ThirstyState">Thirsty state</a>
                </th>
                <th>
                    <a class="text-black btn-link" asp-controller="Pets" asp-action="AllPetsView" asp-route-page="@Model.PaginatedList.PageIndex" asp-route-sortType="@Model.SortModel.HappinessState">Happiness days</a>
                </th>
                <th></th>
            </tr>
            @foreach (var item in Model.PaginatedList.Items)
            {
                <tr>
                    <td>
                        <img src="data:image/svg+xml;base64,@(item.Appearance)" width="100" height="100" />
                    </td>
                    <td>@item.Name</td>
                    <td>@item.Age</td>
                    <td>@item.State</td>
                    <td>@item.HungerLavel</td>
                    <td>@item.ThirstyLavel</td>
                    <td>@item.HappinessDaysCount</td>
                    <td>
                        <a class="btn btn-outline-dark" asp-action="PetView" asp-controller="Pets" asp-route-id="@item.Id">details</a>
                    </td>
                </tr>
            }
        </table>
    </div>

    @if(Model.PaginatedList.HasPreviousPage)
    {
        <a asp-action="AllPetsView"
            asp-route-sortType="@Model.SortModel.Current"
            asp-route-page="@(Model.PaginatedList.PageIndex - 1)"
            class="btn btn-outline-dark">
            Previous
        </a>
    }
    @if(Model.PaginatedList.HasNextPage)
    {
        <a asp-action="AllPetsView"
            asp-route-sortType="@Model.SortModel.Current"
            asp-route-page="@(Model.PaginatedList.PageIndex + 1)"
            class="btn btn-outline-dark">
            Next
        </a>
    }
}